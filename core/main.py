''' This file is part of PyExploit '''
import multiprocessing

from core.utill.automate import automate
from core.utill.manual import manual
from core.utill.scanner import scan

from core.style import (menu, error, CHOOSE, GDOMAIN)

def main():
    ''' main function '''
    try:
        menu(['Recon', 'Vulnerability Scan', 'Exit'])
        choose = int(input(CHOOSE))
        if choose == 1:
            menu(['Automated recon', 'specific recon'])
            choose = int(input(CHOOSE))
            if choose == 1:
                domain = str(input(GDOMAIN))
                process = multiprocessing.Process(target=automate, args=[domain])
                process.start()
                exit()
            if choose == 2:
                manual()
            else:
                error("Choose a number")
        if choose == 2:
           scan()
        if choose == 3:
            pass
        else:
            error("Worng number")
    except KeyboardInterrupt:
        print("Bey bey")
    except ValueError:
        error('Value Error')
