''' This file is part of PyExploit '''

from sys import exit as exits

from core.utill.parser import shodan_parser, pwned_parser
from core.style import (success, error, menu, CHOOSE, GDOMAIN)

def load(module, arg):
    ''' Module loader '''
    return module(arg)

def domain(module):
    ''' bla bla bla read the code and you will understand '''
    domain = str(input(GDOMAIN))
    data = load(module, domain)
    if data != 0:
        return data
    else:
        error("Something went worng")
    exits()

def manual():
    ''' manual interface '''
    menu(["Whois", "IP to GeoLocation", "Shodan", "Subdoamins", "PWNED ?", "Google Dork"])
    try:
        choose = int(input(CHOOSE))
        if choose == 1:
            from modules.recon.passive.whois import whois
            domain(whois)
            exits()
        if choose == 2:
            from modules.recon.passive.geoip import geoip
            domain(geoip)
            exits()
        if choose == 3:
            from modules.recon.passive.shodan import shodan
            for item in shodan_parser(domain(Shodan)):
                print(item)
                exits()
        if choose == 4:
            from modules.recon.passive.hackertarget import hackertarget
            domain(hackertarget)
            exits()
        if choose == 5:
            from modules.recon.passive.pwned import pwned
            pwn = pwned_parser(domain(pwned))
            if pwn != 0:
                success(pwn)
            if pwn == 9:
                error("Not Found")
            else:
                error("Something went wrong")
            exits()
        if choose == 6:
            from modules.recon.passive.gdork import gdork
            dork = gdork(domain(gdork))
            if dork != 0:
                success(dork)
            if dork == 9:
                error("Not Found")
            else:
                error("Something went wrong")
            exits()
        else:
            error("Wrong number")
            exits()
    except ValueError:
        error("Please only nembers")
        exits()
